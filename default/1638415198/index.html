<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ideas » 1638415198</title><link rel="stylesheet" href="/ideas/assets/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans&amp;family=Source+Code+Pro&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700"><link rel="icon" type="image/png" sizes="32x32" href="/ideas/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/ideas/assets/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/ideas/assets/apple-touch-icon.png"></head><body><nav class="nav"><div class="nav-container"><a href="/ideas"><h2 class="nav-title">ideas</h2></a><ul><li><a href="/ideas/default/page/0">Posts</a></li><li><a href="/ideas/tags"><del>Tags</del></a></li><li><a href="/ideas/about">About</a></li></ul></div></nav><main><div class="post"><div class="post-info"><time datetime="2021-12-02T11:19:58+08:00">Thu, 2 Dec 2021 11:19:58 +0800</time></div><div class="post-title"></div><div class="post-line"></div><!-- more --><html><head></head><body><p>clang-format一般都会在折行以后对齐到上一行的第一个参数的首列。如果上一行的参数开始得非常靠右，就会导致所有折行都很靠右，会折出很多行，每行前面的空白会出现很多没有意义的缩进指示线，总之就是很丑。</p>
<p>在第一个参数前面加行末注释可以强制换行。换行后会对齐到上一行+1缩进级别，与上一行内容的长度无关。用<code>AlignAfterOpenBracket: AlwaysBreak</code>的可以省略大部分的手工行末注释调整，但是偶尔还是要加一下。</p>
<div class="highlight"><pre class="highlight"><code class="language-c++">void PBFTReplica::ReceiveMessage(
    const TransportAddress &amp;remote, void *buf, size_t len //
) {
</code></pre></div>
<p>参数列表结束后加一个行末注释可以强制剩下的标点符号换行，从而对参数列表和代码行进行有效划分。</p>
</body></html></div><div class="pagination"><a class="left arrow" href="/ideas/default/1638412624">&#8592;</a><a class="right arrow" href="/ideas/default/1638435524">&#8594;</a><a class="top" href="#">Top</a></div></main><footer><span>Compiled at <time datetime="2023-12-01T09:05:12.267447703+00:00">2023-12-01 09:05:12.267447703 UTC</time>. Made with Rust using a Tale-inspired theme.</span></footer></body></html>